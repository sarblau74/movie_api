<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Movie API Documentation</title>
</head>
<body>
    <h1>Movie API Documentation</h1>

    <h2>Project Title</h2>
    <p><strong>MYFLIX APPLICATION</strong></p>
    <p>Building the server-side component of a “movies” web application. The web application provides users with access to information about different movies, directors, and genres. Users can sign up, update their personal information, and create a list of their favorite movies.</p>

    <h2>Documentation</h2>
    <p><a href="https://images.careerfoundry.com/public/courses/fullstack-immersion/Full-Stack%20Immersion%20A2%20Project%20Brief.pdf">Project Brief A2</a></p>
    <p>In 2.1 exercise: Installed Node.js, open the terminal and run <code>xcode-select --install</code> to install additional command line tools for Xcode needed for installing nvm (Node Version Manager) and eventually NodeJS. You’ll be asked to enter your system user account password. Run the following command in terminal to install and update the script from the following link:</p>
    <pre><code>
curl -o- https://raw.githubusercontent.com/nvm-sh/nvm/v0.39.7/install.sh | bash
wget -qO- https://raw.githubusercontent.com/nvm-sh/nvm/v0.39.7/install.sh | bash
    </code></pre>
    <p>Now it's time to create a directory using the following code in terminal:</p>
    <ul>
        <li>Create the project directory called "movie_api": <code>mkdir movie_api</code></li>
        <li>Navigate into the "movie_api" directory: <code>cd movie_api</code></li>
        <li>Create a JavaScript file called "test.js" within the "movie_api" directory: <code>touch test.js</code></li>
    </ul>
    <p>In EX 2.2: Create documentation.html, test.js, index.html, server.js, log.txt.</p>

    <h2>API Endpoints</h2>

    <h3>1. Get All Movies</h3>
    <p><strong>Endpoint:</strong> <code>/movies</code></p>
    <p><strong>Method:</strong> GET</p>
    <p><strong>Description:</strong> Returns a list of all movies.</p>
    <pre><code>
Example Request:
GET /movies

Example Response:
[
    {
        "_id": "60c72b1f4f1a4a3b9c8b4567",
        "Title": "The Godfather",
        "Genre": { "Name": "Crime", "Description": "Crime movies" },
        "Director": { "Name": "Francis Ford Coppola", "Bio": "An American director", "Birth": "1939" },
        "Rating": 9.2
    },
    ...
]
    </code></pre>

    <h3>2. Get a Movie by Title</h3>
    <p><strong>Endpoint:</strong> <code>/movies/:title</code></p>
    <p><strong>Method:</strong> GET</p>
    <p><strong>Description:</strong> Returns data about a single movie by title.</p>
    <pre><code>
Example Request:
GET /movies/The%20Godfather

Example Response:
{
    "_id": "60c72b1f4f1a4a3b9c8b4567",
    "Title": "The Godfather",
    "Genre": { "Name": "Crime", "Description": "Crime movies" },
    "Director": { "Name": "Francis Ford Coppola", "Bio": "An American director", "Birth": "1939" },
    "Rating": 9.2
}
    </code></pre>

    <h3>3. Get Data About a Genre by Name</h3>
    <p><strong>Endpoint:</strong> <code>/genres/:name</code></p>
    <p><strong>Method:</strong> GET</p>
    <p><strong>Description:</strong> Returns data about a genre by name.</p>
    <pre><code>
Example Request:
GET /genres/Crime

Example Response:
{
    "Name": "Crime",
    "Description": "Crime movies"
}
    </code></pre>

    <h3>4. Get Data About a Director by Name</h3>
    <p><strong>Endpoint:</strong> <code>/directors/:name</code></p>
    <p><strong>Method:</strong> GET</p>
    <p><strong>Description:</strong> Returns data about a director by name.</p>
    <pre><code>
Example Request:
GET /directors/Francis%20Ford%20Coppola

Example Response:
{
    "Name": "Francis Ford Coppola",
    "Bio": "An American director",
    "Birth": "1939"
}
    </code></pre>

    <h3>5. Register a New User</h3>
    <p><strong>Endpoint:</strong> <code>/users</code></p>
    <p><strong>Method:</strong> POST</p>
    <p><strong>Description:</strong> Allows a new user to register.</p>
    <pre><code>
Example Request:
POST /users
{
    "Username": "johndoe",
    "Password": "password123",
    "Email": "johndoe@example.com",
    "Birthday": "1990-01-01"
}

Example Response:
{
    "_id": "60c72b1f4f1a4a3b9c8b4567",
    "Username": "johndoe",
    "Email": "johndoe@example.com",
    "Birthday": "1990-01-01",
    "FavoriteMovies": []
}
    </code></pre>

    <h3>6. Update User Info</h3>
    <p><strong>Endpoint:</strong> <code>/users/:username</code></p>
    <p><strong>Method:</strong> PUT</p>
    <p><strong>Description:</strong> Allows users to update their user info.</p>
    <pre><code>
Example Request:
PUT /users/johndoe
{
    "Username": "john_doe_updated",
    "Password": "newpassword123",
    "Email": "john_doe_updated@example.com",
    "Birthday": "1991-01-01"
}

Example Response:
{
    "_id": "60c72b1f4f1a4a3b9c8b4567",
    "Username": "john_doe_updated",
    "Email": "john_doe_updated@example.com",
    "Birthday": "1991-01-01",
    "FavoriteMovies": []
}
    </code></pre>

    <h3>7. Add a Movie to a User's Favorites</h3>
    <p><strong>Endpoint:</strong> <code>/users/:username/movies/:movieID</code></p>
    <p><strong>Method:</strong> POST</p>
    <p><strong>Description:</strong> Allows users to add a movie to their list of favorites.</p>
    <pre><code>
Example Request:
POST /users/johndoe/movies/60c72b1f4f1a4a3b9c8b4567

Example Response:
{
    "_id": "60c72b1f4f1a4a3b9c8b4567",
    "Username": "johndoe",
    "Email": "johndoe@example.com",
    "Birthday": "1990-01-01",
    "FavoriteMovies": ["60c72b1f4f1a4a3b9c8b4567"]
}
    </code></pre>

    <h3>8. Remove a Movie from a User's Favorites</h3>
    <p><strong>Endpoint:</strong> <code>/users/:username/movies/:movieID</code></p>
    <p><strong>Method:</strong> DELETE</p>
    <p><strong>Description:</strong> Allows users to remove a movie from their list of favorites.</p>
    <pre><code>
Example Request:
DELETE /users/johndoe/movies/60c72b1f4f1a4a3b9c8b4567

Example Response:
{
    "_id": "60c72b1f4f1a4a3b9c8b4567",
    "Username": "johndoe",
    "Email": "johndoe@example.com",
    "Birthday": "1990-01-01",
    "FavoriteMovies": []
}
    </code></pre>

    <h3>9. Deregister a User</h3>
    <p><strong>Endpoint:</strong> <code>/users/:username</code></p>
    <p><strong>Method:</strong> DELETE</p>
    <p><strong>Description:</strong> Allows existing users to deregister.</p>
    <pre><code>
Example Request:
DELETE /users/johndoe

Example Response:
{
    "message": "User johndoe was deleted."
}
    </code></pre>
</body>
</html>
